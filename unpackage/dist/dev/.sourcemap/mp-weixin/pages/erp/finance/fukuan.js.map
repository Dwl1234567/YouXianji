{"version":3,"sources":["uni-app:///main.js","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?8a9b","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?29b1","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?4500","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?4b23","uni-app:///pages/erp/finance/fukuan.vue","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?a46c","webpack:////Users/0821a/Desktop/project001/app/pages/erp/finance/fukuan.vue?7bc2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","value","lable","components","data","ifBottomRefresh","dataList","dataList1","queryInfo","page","pagelist","queryInfo1","modalName2","switchGD","upimageList","name","imgList1","upgetimgList1","showupimage","TCid","remark","loadmore","loadmore1","contentText","onLoad","uni","onReady","onPullDownRefresh","console","onReachBottom","methods","tabGoods","getDataList","paramsData","that","finally","fukuanTap","hideModal2","textareaAInput","paiTap","closeUpimg","selectUpimg","opencamare","uplength","count","sizeType","sourceType","success","complete","openpictrue","ChooseImage","upbiaojiTap","DelImg","title","content","tijiaoTap","promisearr","Promise","res","fukuanTap1","id","images","setTimeout","location"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uNAEN;AACP,KAAK;AACL;AACA,aAAa,kVAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAm1B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACmKv2B;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;;AAIA;AACA,oBACA;EACAC;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA;EACAD;EACAC;AACA,EACA;AACA;AAAA,eACA;EACAC,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;QACAF;QACAC;MACA;MACAE;MACAC;MACAC;QACAC;QACAd;MACA,GACA;QACAc;QACAd;MACA,EACA;MACAe;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;QACA;QACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;MACAC;IACA;EACA;EACAC,6BAEA;EACA;EACAC;IACAC;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;AACA;AACA;AACA;IAHA,CAIA;IACAC;MACA;MACA;MACAC;MACA;QACA;QACA;UACA;UACAC;UACAA;UACAA;QAEA;MACA,GACAC;QACAV;MACA;IACA;IACAW;MACA;MACA;MACAR;MACA;IACA;IACAS;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAX;MACA;IACA;IACAY;MACA;IACA;IACAC;MACAb;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAc;MACA;MACA;MACAC;MACAlB;QACAmB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;UACA;YACAb;UACA;YACAA;UACA;UACA;QAEA;QACAc;UACAd;QACA;MAEA;IACA;IACA;IACAe;MACA;MACA;MACAN;MACAf;MACAH;QACAmB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;UACA;YACAb;UACA;YACAA;UACA;UACA;QACA;QACAc;UACAd;QACA;MACA;IACA;IACAgB;MAAA;MACA;MACA;MACAzB;QACAmB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;UACAb;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IAEA;IACAiB,qCACA;IAEAC;MACA;MACA3B;QACA4B;QACAC;QACAP;UACA;YACAb;UACA;QACA;MACA;IACA;IACAqB;MACA;MACA3B;MACA;QACA;MACA;MAEA;MACAM;QACA;UACAsB;QACA;UACAtB;QACA;MACA;MAEAuB;QACA;QACAC;UACAxB;QACA;MACA,GACAC;QACAD;MACA;IACA;IACA;IACAyB;MAAA;MACA;MAEA;QACAC;QACAC;QACAzC;MACA;MACA;QACAc;QACA4B;UACA;UACAC;QACA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7bA;AAAA;AAAA;AAAA;AAA8jD,CAAgB,m6CAAG,EAAC,C;;;;;;;;;;;ACAllD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/erp/finance/fukuan.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/erp/finance/fukuan.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./fukuan.vue?vue&type=template&id=751e7f20&\"\nvar renderjs\nimport script from \"./fukuan.vue?vue&type=script&lang=js&\"\nexport * from \"./fukuan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fukuan.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/erp/finance/fukuan.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fukuan.vue?vue&type=template&id=751e7f20&\"","var components\ntry {\n  components = {\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.imgList1.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fukuan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fukuan.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"cu-list menu\">\n\t\t\t<view class=\"margin-sm bg-white radius-4\" v-for=\"(item,index) in dataList\" :key=\"index\">\n\t\t\t\t<view class=\"padding-xs flex justify-between text-xs\">\n\t\t\t\t\t<view>单号:{{item.code}}</view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t时间:{{item.createtime}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"margin-top-sm \">\n\t\t\t\t\t<view class=\"cu-steps text-xs\">\n\t\t\t\t\t\t<view class=\"cu-item \" :class=\"item.have_paid != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t已回收\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_deliverede != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t待质检\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_received != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t质检中\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_commented != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t已质检\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_commented != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t已付款\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_commented != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t验机报告\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"cu-item\" :class=\"item.have_commented != 0 ? 'text-red':''\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-roundcheckfill\"></text>\n\t\t\t\t\t\t\t已上架\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"padding-sm text-sm\">\n\t\t\t\t\t<view class=\"flex\" style=\"border-bottom:1px solid #efefef;\"  v-for=\"(item1,index1) in item.goodslist\" :key=\"index1\">\n\t\t\t\t\t\t<view class=\"flex-sub padding-sm\">\n\t\t\t\t\t\t\t<view class=\"goodsimg\"\n\t\t\t\t\t\t\t\t:style=\"[{backgroundImage:'url('+item1.image+')'}]\"></view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"flex-treble padding-sm\">\n\t\t\t\t\t\t\t<view class=\"text-deepblue\">{{item1.title}}</view>\n\t\t\t\t\t\t\t<view class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.sn\">序列号:{{item1.sn}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!--支出-->\n\t\t\t\t\t\t\t<view class=\"flex justify-between\" v-if=\"item.type == 'income'\">\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.money\">销售价:{{item1.money}}</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.peer_price\">调拨价:{{item1.peer_price}}</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.cost_price\">回收价:{{item1.cost_price}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!--收入-->\n\t\t\t\t\t\t\t<view class=\"flex justify-between\" v-if=\"item.type == 'spending'\">\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.money\">回收价:{{item1.money}}</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.peer_price\">调拨价:{{item1.peer_price}}</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.sales_price\">回收价:{{item1.sales_price}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<view class=\"\">直售:\n\t\t\t\t\t\t\t\t\t<text v-if=\"item1.is_ok ==1\">是</text>\n\t\t\t\t\t\t\t\t\t<text v-else>否</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item1.nums\">数量:{{item1.nums}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"grid margin-bottom text-center col-2\">\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-tag line-blue round sm\">科目：{{item.subjectsname}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-tag round line-red sm\">\n\t\t\t\t\t\t\t账单类型:\n\t\t\t\t\t\t\t<text v-if=\"item.type == 'income'\">收入</text>\n\t\t\t\t\t\t\t<text v-else-if=\"item.type == 'spending'\">支出</text>\n\t\t\t\t\t\t\t<text v-else>类型错误</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-tag line-red round sm\">\n\t\t\t\t\t\t\t财务类别：{{item.typename}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-tag line-green round sm\">\n\t\t\t\t\t\t\t<text v-if=\"item.type == 'income'\">收入</text>\n\t\t\t\t\t\t\t<text v-if=\"item.type == 'spending'\">支出</text>\n\t\t\t\t\t\t\t时间：{{item.datatime}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-tag line-red round sm\">\n\t\t\t\t\t\t\t发起人：{{item.createname}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"padding-xs\">\n\t\t\t\t\t\t<view class=\"cu-btn bg-red round sm\" @tap=\"fukuanTap(item.id,'Modal')\">\n\t\t\t\t\t\t\t付款/审批\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 下拉加载提示 -->\n\t\t\t<uni-load-more :status=\"loadmore\" :contentText=\"contentText\"></uni-load-more>\n\t\t</view>\n\t\t<view class=\"cu-modal\" :class=\"modalName2=='Modal'?'show':''\">\n\t\t\t<view class=\"cu-dialog\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">填写付款方式及价格</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal2\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"padding-xl\">\n\t\t\t\t\t<!---->\n\t\t\t\t\t<view class=\"cu-form-group\"style=\"border:2rpx solid #EEEEEE\">\n\t\t\t\t\t\t<textarea class=\"textarea\" maxlength=\"-1\" @input=\"textareaAInput\"\n\t\t\t\t\t\t\tplaceholder=\"请输入备注信息\"  v-model=\"remark\" name=\"input\"></textarea>\n\t\t\t\t\t\t<!--{{TCid}}-->\n\t\t\t\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group pingzheng\" :class=\"switchGD?'hide':''\">\n\t\t\t\t\t\t<view class=\"title\">付款凭证</view>\n\t\t\t\t\t\t<view class=\"cu-capsule round\" @tap=\"paiTap\">\n\t\t\t\t\t\t\t<view class=\"cu-tag bg-deepblue\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-camera text-white\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cu-tag line-deepblue\">\n\t\t\t\t\t\t\t\t图\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-form-group\" v-if=\"imgList1.length > 0\">\n\t\t\t\t\t\t<view class=\"grid col-3 grid-square flex-sub\">\n\t\t\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item,index) in imgList1\" :key=\"index\" @tap=\"ViewImage\"\n\t\t\t\t\t\t\t\t:data-url=\"imgList1[index]\">\n\t\t\t\t\t\t\t\t<image :src=\"imgList1[index]\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"DelImg\" :data-index=\"index\">\n\t\t\t\t\t\t\t\t\t<text class='cuIcon-close'></text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cu-btn bg-red\" @tap=\"tijiaoTap\">确定</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t</view>\n\t\t</view>\n\t\t<u-action-sheet :actions=\"upimageList\" :closeOnClickAction=\"true\" @close=\"closeUpimg\" :cancelText=\"'取消'\"\n\t\t\t@select=\"selectUpimg\" :show=\"showupimage\"></u-action-sheet>\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\terpfinancewastebook,erpfinancefukuan\n\t} from \"@/api/erpapi.js\";\n\timport _tool from '@/utils/tools.js';\t//工具函数\n\timport {\n\t\traiseUpload\n\t} from \"@/api/upload.js\";\n\t// 科目类别\n\tconst billtypeInfo = [\n\t\t{\n\t\t\tvalue:1,\n\t\t\tlable:'工资'\n\t\t},{\n\t\t\tvalue:2,\n\t\t\tlable:'采购'\n\t\t},{\n\t\t\tvalue:3,\n\t\t\tlable:'差旅'\n\t\t},{\n\t\t\tvalue:4,\n\t\t\tlable:'交通'\n\t\t},{\n\t\t\tvalue:5,\n\t\t\tlable:'招待'\n\t\t},{\n\t\t\tvalue:6,\n\t\t\tlable:'运营'\n\t\t},{\n\t\t\tvalue:7,\n\t\t\tlable:'租赁'\n\t\t},{\n\t\t\tvalue:8,\n\t\t\tlable:'办公'\n\t\t},{\n\t\t\tvalue:9,\n\t\t\tlable:'销售'\n\t\t},{\n\t\t\tvalue:10,\n\t\t\tlable:'快递'\n\t\t}\n\t]\n\t// 1=工资,2=采购,3=差旅,4=交通,5=招待,6=运营,7=租赁,8=办公,9=销售,10=快递\n\texport default {\n\t\tcomponents: {\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tifBottomRefresh: false,\n\t\t\t\tdataList: [],\n\t\t\t\tdataList1: [],\n\t\t\t\tqueryInfo: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tpagelist: 10,\n\t\t\t\t},\n\t\t\t\tqueryInfo1: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tpagelist: 10,\n\t\t\t\t},\n\t\t\t\tmodalName2: null,\n\t\t\t\tswitchGD: false,\n\t\t\t\tupimageList: [{\n\t\t\t\t\t\tname: '拍照',\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '相册选图',\n\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\timgList1: [],//付款凭证\n\t\t\t\tupgetimgList1:[],//付款凭证 ,隔开\n\t\t\t\tshowupimage: false,\n\t\t\t\tTCid:0,\n\t\t\t\tremark:'',\n\t\t\t\tloadmore: 'more', //more 还有数据   noMore 无数据\n\t\t\t\tloadmore1: 'more', //more 还有数据   noMore 无数据\n\t\t\t\tcontentText: {\n\t\t\t\t\t\"contentdown\": \"加载更多数据\",\n\t\t\t\t\t\"contentrefresh\": \"加载中...\",\n\t\t\t\t\t\"contentnomore\": \"暂无更多数据。\"\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 进入页面刷新\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tuni.startPullDownRefresh();\n\t\t\t})\n\t\t},\n\t\tonReady() {\n\t\t\t\n\t\t},\n\t\t// 下拉刷新\n\t\tonPullDownRefresh() {\n\t\t\tconsole.log('进入刷新');\n\t\t\tthis.queryInfo.page = 1; //重置分页页码\n\t\t\tthis.getDataList();\n\t\t},\n\t\tonReachBottom() {\n\t\t\tif (this.loadmore == 'noMore') return\n\t\t\tthis.queryInfo.page += 1;\n\t\t\tthis.ifBottomRefresh = true\n\t\t\tthis.getDataList();\n\t\t},\n\t\tmethods: {\n\t\t\ttabGoods(id) {\n\t\t\t\t//弹出审批付款窗\n\t\t\t\t/*\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/erp/finace/goods?checkId=\"+id\n\t\t\t\t});*/\n\t\t\t},\n\t\t\tgetDataList() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet paramsData = that.queryInfo;\n\t\t\t\tparamsData['status'] = 'unaudited'\n\t\t\t\terpfinancewastebook(paramsData).then(res => {\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t//判断是触底加载还是第一次进入页面的加载\n\t\t\t\t\t\t\tthat.dataList = that.dataList.concat(data)\n\t\t\t\t\t\t\tthat.ifBottomRefresh = false\n\t\t\t\t\t\t\tthat.loadmore = res.data.total == that.dataList.length ? 'noMore' : 'more'\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tfukuanTap(id,e){\n\t\t\t\t//弹出审批付款窗\n\t\t\t\tthis.TCid = id\n\t\t\t\tconsole.log(id)\n\t\t\t\tthis.modalName2 = e\n\t\t\t},\n\t\t\thideModal2(e) {\n\t\t\t\tthis.modalName2 = null\n\t\t\t},\n\t\t\ttextareaAInput(e) {\n\t\t\t\tthis.textareaAValue = e.detail.value\n\t\t\t},\n\t\t\tpaiTap() {\n\t\t\t\tconsole.log('拍照、选图');\n\t\t\t\tthis.showupimage = true;\n\t\t\t},\n\t\t\tcloseUpimg() {\n\t\t\t\tthis.showupimage = false;\n\t\t\t},\n\t\t\tselectUpimg(e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\tif (e.value == 1) {\n\t\t\t\t\tthis.opencamare();\n\t\t\t\t} else {\n\t\t\t\t\tthis.openpictrue();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 使用拍照功能\n\t\t\topencamare(){\n\t\t\t\tlet that = this;\n\t\t\t\tlet uplength = 9;\n\t\t\t\tuplength = 9 - Number(that.imgList1.length);\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: uplength, //默认9\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['camera'], //从相册选择\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (that.imgList1.length != 0) {\n\t\t\t\t\t\t\tthat.imgList1 = that.imgList1.concat(res.tempFilePaths)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.imgList1 = res.tempFilePaths\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tcomplete:function(){\n\t\t\t\t\t\tthat.checkimgshow = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 使用相册功能\n\t\t\topenpictrue(){\n\t\t\t\tlet that = this;\n\t\t\t\tlet uplength = 9;\n\t\t\t\tuplength = 9 - Number(that.imgList1.length);\n\t\t\t\tconsole.log(uplength);\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: uplength, //默认9\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (that.imgList1.length != 0) {\n\t\t\t\t\t\t\tthat.imgList1 = that.imgList1.concat(res.tempFilePaths)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.imgList1 = res.tempFilePaths\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t},\n\t\t\t\t\tcomplete:function(){\n\t\t\t\t\t\tthat.checkimgshow = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tChooseImage() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet uplength = 9 - Number(this.imgList1.length);\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: uplength, //默认9\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthat.push = false;\n\t\t\t\t\t\tif (this.imgList1.length != 0) {\n\t\t\t\t\t\t\tthis.imgList1 = this.imgList1.concat(res.tempFilePaths)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.imgList1 = res.tempFilePaths\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tupbiaojiTap() {\n\t\t\t},\n\t\t\t\n\t\t\tDelImg(e) {\n\t\t\t\tlet that = this;\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定要删除吗？',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthat.imgList1.splice(e.currentTarget.dataset.index, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\ttijiaoTap(){\n\t\t\t\tlet that = this;\n\t\t\t\tconsole.log('提交',this.imgList1);\n\t\t\t\tif(that.imgList1.length <= 0){\n\t\t\t\t\treturn that.$u.toast('请上传付款凭证');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet promisearr = [];\n\t\t\t\tthat.imgList1.forEach((item,index)=>{\n\t\t\t\t\tif(item.indexOf('shousifang') == -1){\n\t\t\t\t\t\tpromisearr.push(raiseUpload(item));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.upgetimgList1.push(item);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tPromise.all(promisearr).then((res)=>{\n\t\t\t\t\t// console.log(res);\n\t\t\t\t\tres.forEach((iii)=>{\n\t\t\t\t\t\tthat.upgetimgList1.push(iii.data.imgurl);\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthat.fukuanTap1();\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 审核付款\n\t\t\tfukuanTap1() {\n\t\t\t\tlet that = this;\n\t\t\t\t\n\t\t\t\tlet paramstData = {\n\t\t\t\t\tid:this.TCid,\n\t\t\t\t\timages:this.upgetimgList1,\n\t\t\t\t\tremark:this.remark,\n\t\t\t\t}\n\t\t\t\terpfinancefukuan(paramstData).then(res=>{\n\t\t\t\t\tthat.$u.toast('付款成功');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.TCid = 0;\n\t\t\t\t\t\tlocation.reload()\n\t\t\t\t\t}, 1000);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.cu-list.menu .goodsimg{\n\t\twidth:150rpx;\n\t\theight:150rpx;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.cu-modal{\n\t\tz-index: 99;\n\t}\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fukuan.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fukuan.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676796529422\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}