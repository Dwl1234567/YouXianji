{"version":3,"sources":["uni-app:///main.js","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?0d92","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?9b06","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?ea4e","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?fb56","uni-app:///pages/goods/pay.vue","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?d534","webpack:////Users/0821a/Desktop/project001/app/pages/goods/pay.vue?90b3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","barTitle","data","goodsList","checkAll","goods_img","radio","payType","orderInfo","orderId","payTypeList","wxpay","alipay","total","onLoad","methods","getPayType","that","platform","RadioChange","payBtnTap","uni","url","payTap","confirm","console","weixinPay","params","order_id","location","provider","timeStamp","nonceStr","package","signType","paySign","success","fail","offlinePay"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACc;;;AAGhE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi0B,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC8Er1B;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cAAA;cAAA,OACA;YAAA;cACA;cACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACA;kBAAAC;gBAAA;kBACA;kBACA;oBACAD;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAE;MACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACA;kBAEA;gBAEA;kBACA;kBACA;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAb;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA+DA;IACAc;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAT,eACA;gBACA;gBACA;gBACAU;kBACAC;kBACAV;gBACA;gBACA;kBACAO;kBACA;kBACA;oBAEA,gCAsCA;sBACA;wBACA;wBACAI;wBACA;sBACA;sBA2CAR;wBACAS;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;0BACAf;4BACAC;0BACA;wBACA;wBACAe;0BACA;0BACA;0BACApB;wBACA;sBACA;oBAEA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAqB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACArB;gBACAU;kBACAC;gBACA,GACA;gBACA;gBACA;gBACA;kBACA;kBACA;oBACAP;sBACAC;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9WA;AAAA;AAAA;AAAA;AAAgiD,CAAgB,g6CAAG,EAAC,C;;;;;;;;;;;ACApjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods/pay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=602f8ec6&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=602f8ec6&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<!--标题栏-->\n\t\t<!-- <bar-title bgColor='bg-white'>\n\t\t\t<block slot=\"content\">立即支付</block>\n\t\t</bar-title> -->\n\t\t<!--商品信息-->\n\n\t\t<view class=\"text-gray padding-sm\">支付方式</view>\n\n\t\t<!--支付方式-->\n\t\t<view class=\"bg-white pay-view\">\n\t\t\t<radio-group class=\"block\" @change=\"RadioChange\">\n\t\t\t\t<view class=\"pay-bar\" @tap=\"payTap('wechat')\" v-if=\"payTypeList.wxpay && total > 0\">\n\t\t\t\t\t<view class=\"cu-avatar sm\" style=\"background-image:url(/static/zaiui/img/wechat.png)\" />\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<view class=\"text-black\">\n\t\t\t\t\t\t\t<text class=\"margin-right-sm\">微信支付</text>\n\t\t\t\t\t\t\t<text class=\"cu-tag bg-red radius sm\">推荐</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-gray text-sm\">亿万用户的选择，更快更安全</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t<radio class=\"red radio\" :class=\"radio=='wechat'?'checked':''\"\n\t\t\t\t\t\t\t:checked=\"radio=='wechat'?true:false\" value=\"wechat\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"pay-bar\" @tap=\"payTap('alipay')\" v-if=\"payTypeList.alipay && total > 0\">\n\t\t\t\t\t<view class=\"cu-avatar sm\" style=\"background-image:url(/static/zaiui/img/alipay.png)\" />\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<view class=\"text-black\">\n\t\t\t\t\t\t\t<text class=\"margin-right-sm\">支付宝支付</text>\n\t\t\t\t\t\t\t<text class=\"cu-tag line-red radius sm\">HOT</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-gray text-sm\">数亿用户都在用，安全可托付</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t<radio class=\"red radio\" :class=\"radio=='alipay'?'checked':''\"\n\t\t\t\t\t\t\t:checked=\"radio=='alipay'?true:false\" value=\"alipay\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"pay-bar\" @tap=\"payTap('hbjiangzhang')\" v-if=\"payTypeList.offline\">\n\t\t\t\t\t<view class=\"cu-avatar sm\" style=\"background-image:url(/static/zaiui/img/alipay.png)\" />\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<view class=\"text-black\">\n\t\t\t\t\t\t\t<text class=\"margin-right-sm\">奖章支付</text>\n\t\t\t\t\t\t\t<text class=\"cu-tag line-red radius sm\">共有12349枚</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-gray text-sm\">\n\t\t\t\t\t\t\t<text>可为您抵扣</text>\n\t\t\t\t\t\t\t<text class=\"line-red\">100元</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t<radio class=\"red radio\" :class=\"radio=='hbjiangzhang'?'checked':''\"\n\t\t\t\t\t\t\t:checked=\"radio=='hbjiangzhang'?true:false\" value=\"hbjiangzhang\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</radio-group>\n\t\t</view>\n\n\t\t<!--提示信息-->\n\t\t<view class=\"text-gray padding-sm text-sm\">\n\t\t\t如您购买的机器不符合消费者保障权益，将由平安承保、优闲集承担相关责任。\n\t\t</view>\n\n\t\t<!--底部操作-->\n\t\t<view class=\"bg-white footer-fixed foot-padding-bottom\">\n\t\t\t<view class=\"padding-sm flex flex-direction\">\n\t\t\t\t<button class=\"cu-btn radius bg-red\" @tap=\"confirm\">￥{{total}} 立即支付</button>\n\t\t\t</view>\n\t\t</view>\n\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tPayUnify,\n\t\tPayJssdkBuildConfig,\n\t\tPayAlipay,\n\t\tPayOffline\n\t} from \"@/api/mall.js\";\n\timport barTitle from '@/components/common/basics/bar-title';\n\timport _tool from '@/utils/tools.js'; //工具函数\n\timport {\n\t\tPayGetPayType\n\t} from \"@/api/mall.js\"\n\texport default {\n\t\tcomponents: {\n\t\t\tbarTitle,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tgoodsList: [],\n\t\t\t\tcheckAll: true,\n\t\t\t\tgoods_img: '/static/delect_images/home/goods/1.png',\n\t\t\t\tradio: 'wechat',\n\t\t\t\tpayType: 'wechat',\n\t\t\t\torderInfo: {},\n\t\t\t\torderId: '',\n\t\t\t\tpayTypeList: {\n\t\t\t\t\twxpay: false,\n\t\t\t\t\talipay: false\n\t\t\t\t},\n\t\t\t\ttotal: 0.00\n\t\t\t}\n\t\t},\n\t\tasync onLoad(options) {\n\t\t\tthis.total = options.total;\n\t\t\tthis.orderId = options.order_id;\n\t\t\tawait this.getPayType();\n\t\t\t// 如果传这个参数就直接支付了，（默认第一个是微信支付）\n\t\t\tif (options.pay) {\n\t\t\t\tthis.confirm()\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取支付方式\n\t\t\tasync getPayType() {\n\t\t\t\tlet that = this;\n\t\t\t\tPayGetPayType({platform:\"APP-PLUS\"}).then(res=>{\n\t\t\t\t\tlet type = res.data;\n\t\t\t\t\tif (type) {\n\t\t\t\t\t\tthat.payTypeList = type;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\t\t\tRadioChange(e) {\n\t\t\t\tthis.radio = e.detail.value;\n\t\t\t},\n\t\t\tpayBtnTap() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/status/pay_status\"\n\t\t\t\t});\n\t\t\t},\n\t\t\tpayTap(type) {\n\t\t\t\tthis.radio = type;\n\t\t\t\tthis.payType = type;\n\t\t\t},\n\t\t\t//确认支付\n\t\t\tasync confirm() {\n\t\t\t\tconsole.log(this.payType);\n\t\t\t\tif (this.payType == \"wechat\") {\n\t\t\t\t\t// #ifdef H5 || APP-PLUS || MP-WEIXIN\n\t\t\t\t\tthis.weixinPay();\n\t\t\t\t\t// #endif\n\t\t\t\t} else if (this.payType == \"alipay\") {\n\t\t\t\t\t// 支付宝支付\n\t\t\t\t\tthis.alipay();\n\t\t\t\t} else if (this.payType == \"hbjiangzhang\") {\n\t\t\t\t\t// 货到付款\n\t\t\t\t\tthis.offlinePay();\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync alipay() {\n\n\t\t\t\t// #ifdef H5\n\t\t\t\twindow.open(this.$unishow + '/pay/alipay?order_id=' + this.orderId);\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '是否已支付?',\n\t\t\t\t\t\tcancelText: '否',\n\t\t\t\t\t\tconfirmText: '是',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl: '/pages/order/order?state=0'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t//console.log('用户点击取消');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 3000);\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tlet params = {\n\t\t\t\t\torder_id:this.orderId,\n\t\t\t\t\tplatform:'APP-PLUS'\n\t\t\t\t}\n\t\t\t\t// let orderInfo = await this.$api.request('/pay/alipay', 'POST', {\n\t\t\t\t// \torder_id: this.orderId\n\t\t\t\t// });\n\t\t\t\tPayAlipay(params).then(res=>{\n\t\t\t\t\tlet orderInfo = res.data;\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (orderInfo) {\n\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\tprovider: 'alipay',\n\t\t\t\t\t\t\torderInfo: orderInfo,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res));\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl: '/pages/money/paySuccess'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\n\t\t\t\t\t\t\t\tthat.$api.msg('支付失败');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err=>{\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t// #endif\n\n\t\t\t},\n\t\t\tasync weixinPay() {\n\t\t\t\tlet that = this;\n\t\t\t\t// let data = await this.$api.request('/pay/unify', 'GET', {\n\t\t\t\t// \torder_id: this.orderId\n\t\t\t\t// });\n\t\t\t\tlet params = {\n\t\t\t\t\torder_id:this.orderId,\n\t\t\t\t\tplatform:'APP-PLUS'\n\t\t\t\t}\n\t\t\t\tPayUnify(params).then(res=>{\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tlet data = res.data;\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\n\t\t\t\t\t\tif (data.trade_type == 'MWEB') {\n\t\t\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\t\t// 微信外的H5\n\t\t\t\t\t\t\tlocation.href = data.mweb_url;\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\n\t\t\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\t\t\t// app 使用h5支付\n\t\t\t\t\t\t\tvar wv; //计划创建的webview \n\t\t\t\t\t\t\twv = plus.webview.create(\"\", \"custom-webview\", {\n\t\t\t\t\t\t\t\t'uni-app': 'none', //不加载uni-app渲染层框架，避免样式冲突\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twv.loadURL(data.mweb_url, {\n\t\t\t\t\t\t\t\tReferer: data.referer\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '是否已支付?',\n\t\t\t\t\t\t\t\t\tcancelText: '否',\n\t\t\t\t\t\t\t\t\tconfirmText: '是',\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/order/order?state=0'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t\t\t//console.log('用户点击取消');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\n\t\t\t\t\t\t} else if (data.trade_type == 'JSAPI') {\n\t\t\t\t\t\t\tif (data.weixinOauth2) {\n\t\t\t\t\t\t\t\t// 微信oauth2授权（主要用来拿openid）\n\t\t\t\t\t\t\t\tlocation.href = data.weixinOauth2\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\t\t// 微信内的H5\n\t\t\t\t\t\t\tPayJssdkBuildConfig().then(res=>{\n\t\t\t\t\t\t\t\tlet config = res.data;\n\t\t\t\t\t\t\t\tif (config) {\n\t\t\t\t\t\t\t\t\tjweixin.config(config);\n\t\t\t\t\t\t\t\t\tjweixin.ready(function() {\n\t\t\t\t\t\t\t\t\t\tjweixin.chooseWXPay({\n\t\t\t\t\t\t\t\t\t\t\ttimestamp: data\n\t\t\t\t\t\t\t\t\t\t\t.timeStamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\n\t\t\t\t\t\t\t\t\t\t\tnonceStr: data.nonce_str, // 支付签名随机串，不长于 32 位\n\t\t\t\t\t\t\t\t\t\t\tpackage: 'prepay_id=' + data\n\t\t\t\t\t\t\t\t\t\t\t.prepay_id, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\n\t\t\t\t\t\t\t\t\t\t\tsignType: 'MD5', // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\n\t\t\t\t\t\t\t\t\t\t\tpaySign: data.paySign, // 支付签名\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t// 支付成功后的回调函数\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/money/paySuccess'\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log('fail:' + JSON.stringify(err));\n\t\t\t\t\t\t\t\t\t\t\t\t//that.$api.msg('fail:' + JSON.stringify(err))\n\t\t\t\t\t\t\t\t\t\t\t\tthat.$api.msg('支付失败');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tjweixin.error(function(res) {\n\t\t\t\t\t\t\t\t\t\t//that.$api.msg(JSON.stringify(res));\n\t\t\t\t\t\t\t\t\t\tthat.$api.msg('支付失败');\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthat.$api.msg('支付失败');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// let config = await this.$api.request('/pay/jssdkBuildConfig');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\n\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\t\t\ttimeStamp: data.timeStamp,\n\t\t\t\t\t\t\t\tnonceStr: data.nonce_str,\n\t\t\t\t\t\t\t\tpackage: 'prepay_id=' + data.prepay_id,\n\t\t\t\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\t\t\t\tpaySign: data.paySign,\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/money/paySuccess'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: function(err) {\n\t\t\t\t\t\t\t\t\t//console.log('fail:' + JSON.stringify(err));\n\t\t\t\t\t\t\t\t\t//that.$api.msg('fail:' + JSON.stringify(err))\n\t\t\t\t\t\t\t\t\tthat.$api.msg('支付失败');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\n\t\t\tasync offlinePay() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet params = {\n\t\t\t\t\torder_id:this.orderId\n\t\t\t\t}\n\t\t\t\t// let data = await this.$api.request('/pay/offline', 'GET', {\n\t\t\t\t// \torder_id: this.orderId\n\t\t\t\t// });\n\t\t\t\tPayOffline(params).then(res=>{\n\t\t\t\t\tlet data = res.data;\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl: '/pages/money/paySuccess'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t/* #ifdef APP-PLUS */\n\t@import \"/uni_modules/colorui/main.css\";\n\t@import \"/uni_modules/colorui/icon.css\";\n\t@import \"@/uni_modules/mpb-ui/shop/app.scss\";\n\t/* #endif */\n\t@import \"@/uni_modules/mpb-ui/shop/pay.scss\";\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676796542337\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}