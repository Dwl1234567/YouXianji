{"version":3,"sources":["uni-app:///main.js","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?7968","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?9693","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?93c8","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?3f96","uni-app:///pages/goods/goods.vue","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?ac84","webpack:////Users/0821a/Desktop/project001/app/pages/goods/goods.vue?6087"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","barTitle","computed","specSelectedName","specProduct","market_price","sales_price","stock","image","data","scrollConf","showTop","opacityTop","offsetAd","offsetIos","nodeList","id","top","tabBarOpacity","TabCur","show","scrollTop","jumpTop","bannerCur","bannerList","bottomModal","modalTitle","modalType","selectType","goodsList","specSelected","product","goodsid","flashId","pageIndex","pageLimit","evalueteList","onLoad","type","goods_id","filters","formatRichText","match","newContent","onReady","_tool","uni","duration","mounted","query","console","that","created","onPageScroll","methods","getElementScollTop","select","boundingClientRect","exec","tabSelect","copydesc","success","title","loadData","getDetail","params","setTimeout","specList","specChildList","pid","name","finally","getProductEvaluate","selectSpec","list","bannerSwiper","serviceTap","baogaoTap","promotionTap","selectTap","is_login","confirmFuc","spec","url","showModal","hideModal","kefuTap","myCartTap","settingQrImgBase64","mask","i","filePath","icon","fail","complete"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACkav1B;AAGA;AAOA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QAAA,2CACA;UAAA;QAAA;UAAA;YAAA;YACA;cACAC;cACAC;cACAC;cACAC;YACA;UAEA;QAAA;UAAA;QAAA;UAAA;QAAA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC,WACA;UACAC;UACAC;QACA,GACA;UACAD;UACAC;QACA,GACA;UACAD;UACAC;QACA,GACA;UACAD;UACAC;QACA;MAEA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;QACAC;QACAC;MACA,wBAEA;IACA;IACA;EACA;EACAC;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;QACA;UACAC;UACAA;UACAA;UACA;QACA;QACAC;UACAD,qFACA;UACA;QACA;QACAC;QACAA,2CACA;QACA;MACA;IACA;EACA;EACAC;IACAC;IACAC;MACAzB;MACA0B;IACA;EACA;EACAC;IAAA;IACA;IACAC;MACAC;MACA;MACAzC;QACA;UACA0C;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;MACA;MAEAD;IACA;EAEA;EACAE;IACA;EAAA,CACA;EACAC;IACAH;IACA;MACA;MACA;IACA;MACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EACAI;IACA;IACAC;MAAA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;MACAN,MACAO,YACAC;QACAP;QACA;QACA;MACA,GACAQ;IACA;IACAC;MACA;MACA;MACA;MACAT;MACA;MAQAA;MACAJ;QACAzB;QAAA;QACA0B;MACA;IACA;IACAa;MACAd;QACArC;QACAoD;UAAA,OACAf;YACAgB;UACA;QAAA;MACA;IACA;IACAC;MACA;MACAb;MACA;IACA;IACA;IACAc;MAAA;MACA;MACA;MACA;QACAC;UACA;QACA;QACA;UACA;UACA;YACAC;cACApB;YACA;YACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;YACA;YACA;YAEA;YACA;YACA;YACA;cACAqB;cACA;gBACAC;kBACApD;kBACAqD;kBACAC;gBACA;cACA;YACA;YACA;YACA;YACA;YACA;YACA;;YAEA;YACA;YACA;cAAA,4CACA;gBAAA;cAAA;gBAAA;kBAAA;kBACA;oBACA;oBACA;oBACA;kBACA;gBACA;cAAA;gBAAA;cAAA;gBAAA;cAAA;YACA;UACA;QACA,GACAC;UACAzB;QACA;MACA;QACAmB;UACA;QACA;QACA,2DAEA,GACAM;UACAzB;QACA;MACA;IACA;IACA;IACA0B;MACA;MACA;QACA;QACA;QACA;MACA;MACA;QACArB;MACA;IACA;IACA;IACAsB;MAAA;MACA;MACAC;QACA;UACA;QACA;MACA;MACA;MACA;MACA;AACA;AACA;AACA;AACA;MACA;MACA;MACAA;QACA;UACA;QACA;MACA;IAEA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;QACA;QACA;UACA;YACA9B;UACA;QACA,GACAoB;UACApB;QACA;MACA;QACA;QACA;UACA+B;QACA;QACApC;UACAqC;QACA;MAEA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACAxC;QACAqC;MACA;IACA;IACAI;MACAzC;QACAqC;MACA;IACA;IACA;IACAK;MACA;MACA;MACA1C;QACAgB;QACA2B;MACA;MAAA,2BACAC;QACA5C;UACAqC;UAAA;UACA7B;UACAO;YACAX;YACA;YACAJ;cAAA;cACA6C;cACA9B;gBACA;kBACAf;kBACAA;oBAAAgB;oBAAA8B;kBAAA;gBACA;cAEA;cACAC;gBACA3C;gBACAC;cACA;cACA2C;gBACA;gBACA;cAAA;YAEA;UACA;UACAD;YACA/C;UACA;QACA;MAAA;MA7BA;QAAA;MA8BA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACn4BA;AAAA;AAAA;AAAA;AAAkiD,CAAgB,k6CAAG,EAAC,C;;;;;;;;;;;ACAtjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods/goods.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=5566b618&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=5566b618&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.product.images_text ? _vm.product.images_text.length : null\n  var f0 = _vm._f(\"formatRichText\")(_vm.product.desc)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        f0: f0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<!--标题栏-->\n\t\t<bar-title bgColor='bg-white'>\n\t\t\t<block slot=\"content\">商品详情</block>\n\t\t\t<!-- 分享 操作\n\t\t\t<block slot=\"right\">\n\t\t\t\t<text class=\"cuIcon-forward\" />\n\t\t\t\t<text class=\"cuIcon-more\" />\n\t\t\t</block>\n\t\t\t-->\n\t\t</bar-title>\n\t\t\n\t\t<view class=\"goods-tab-box\" :class=\"show?'show':'hide'\" :style=\"'opacity:' + tabBarOpacity\">\n\t\t\t<scroll-view scroll-x class=\"nav text-center\">\n\t\t\t\t<view class=\"cu-item\" :class=\"0==TabCur?'text-deepblue text-bold cur':''\" @tap=\"tabSelect\" data-id=\"0\">\n\t\t\t\t\t商品\n\t\t\t\t</view>\n\t\t\t\t<view class=\"cu-item\" :class=\"1==TabCur?'text-deepblue text-bold cur':''\" @tap=\"tabSelect\" data-id=\"1\">\n\t\t\t\t\t评价\n\t\t\t\t</view>\n\t\t\t\t<view class=\"cu-item\" :class=\"2==TabCur?'text-deepblue text-bold cur':''\" @tap=\"tabSelect\" data-id=\"2\">\n\t\t\t\t\t参数\n\t\t\t\t</view>\n\t\t\t\t<view class=\"cu-item\" :class=\"3==TabCur?'text-deepblue text-bold cur':''\" @tap=\"tabSelect\" data-id=\"3\">\n\t\t\t\t\t详情\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t<!--提示-->\n\t\t<!--<view class=\"bg-grey text-sm text-center padding-tb-xs text-white\">真机实拍部分为真机样张，您购买的机型大致符合图中成色效果</view>-->\n\t\t\n\t\t<!--<scroll-view class=\"VerticalMain\" scroll-y  scroll-with-animation :scroll-top=\"scrollTop\">-->\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t<view class=\"xiangqingH\">\n\t\t\t<view class=\"canshuH\">\n\t\t\t\t<view class=\"pinglunH\">\n\t\t\t\t\t<!--商品-->\n\t\t\t\t\t<view class=\"baobeiH\">\n\t\t\t\t\t\t<!--轮播图-->\n\t\t\t\t\t\t<view class=\"banner-swiper-box\">\n\t\t\t\t\t\t\t<swiper class=\"screen-swiper\" circular autoplay @change=\"bannerSwiper\">\n\t\t\t\t\t\t\t\t<swiper-item v-for=\"(item,index) in product.images_text\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<image class=\"img\" :src=\"item\" mode=\"aspectFill\" />\n\t\t\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t\t\t</swiper>\n\t\t\t\t\t\t\t<!--页码-->\n\t\t\t\t\t\t\t<text class=\"cu-tag bg-grey round sm page\"\n\t\t\t\t\t\t\t\tv-if=\"product.images_text\">{{bannerCur + 1}}/{{product.images_text.length}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!--商品价格-->\n\t\t\t\t\t\t<view class=\"limited-seckill-box bg-deepblue radius-2 margin-sm\">\n\t\t\t\t\t\t\t<text class=\"text-price text-xxl\">{{product.sales_price}}</text>\n\t\t\t\t\t\t\t<view class=\"text-xs cost-price-num\">\n\t\t\t\t\t\t\t\t<!--<view class=\"text-through\">原价￥{{product.market_price}}</view>\n\t\t\t\t\t\t\t\t<view>剩余{{product.stock}}件</view>-->\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"text-right time-right\">\n\t\t\t\t\t\t\t\t<view class=\"text-through\">原价￥{{product.market_price}}</view>\n\t\t\t\t\t\t\t\t<view class=\"text-xs\">剩余{{product.stock}}件</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!--标题-->\n\t\t\t\t\t\t<view class=\"bg-white view-box title-view-box  radius-2 margin-sm\">\n\t\t\t\t\t\t\t<view class=\"title-view\">\n\t\t\t\t\t\t\t\t<text class=\"cu-tag bg-red radius sm\">{{product.colourname}}</text>\n\t\t\t\t\t\t\t\t<text class=\"text-black text-bold\">{{product.title}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"text-lg margin-bottom-sm\">\n\t\t\t\t\t\t\t\t<text class=\"sm text-gray\">{{product.tags}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!--分销按钮-->\n\t\t\t\t\t\t\t<view class=\"btn-group flex flex-wrap justify-between align-center\">\n\t\t\t\t\t\t\t\t<button class=\"cu-btn bg-deepblue radius-4\" @click=\"settingQrImgBase64\">一键保存图片</button>\n\t\t\t\t\t\t\t\t<button class=\"cu-btn bg-deepblue radius-4\" @click=\"copydesc\">一键复制文案</button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"bg-white margin-sm radius-2 \">\n\t\t\t\t\t\t\t<!--新机属性选择-->\n\t\t\t\t\t\t\t<view class=\"view-box select-view-box\">\n\t\t\t\t\t\t\t\t<view class=\"flex flex-wrap text-sm\" @tap=\"selectTap\">\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray\">已选</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-8\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-sm\">{{specSelectedName}}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-gray text-right\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-right icon\" />\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"border-view\" />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!--发货-->\n\t\t\t\t\t\t\t<view class=\"view-box select-view-box\">\n\t\t\t\t\t\t\t\t<view class=\"flex flex-wrap text-sm\">\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray\">发货</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-9\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-sm\">16:00前下单，当日发货，顺丰包邮</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"border-view\" />\n\t\t\t\t\t\t\t<view class=\"view-box service-view-box\">\n\t\t\t\t\t\t\t\t<!--<view class=\"view-box service-view-box\" @tap=\"serviceTap\">-->\n\t\t\t\t\t\t\t\t<view class=\"flex flex-wrap text-sm\">\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray\">保障</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-7\">\n\t\t\t\t\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"tag-view\" v-for=\"(item,index) in product.server\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>{{item}}</text>\n\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!--包含商品 end-->\n\t\t\t\t\t<!--评论列表-->\n\t\t\t\t\t<view id=\"pinglunBlock\" class=\"bg-white margin-sm padding-sm radius-2\" :style=\"{paddingTop: '0'}\">\n\t\t\t\t\t\t<!-- <view class=\"\" v-for=\"(items,index) in 10\" :key=\"index\">评论123</view> -->\n\t\t\t\t\t\t<view class=\"cu-bar bg-white solid-bottom\">\n\t\t\t\t\t\t\t<text class=\"text-bold\">商品评价</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<block v-for=\"(items,index) in evalueteList\" :key=\"index\">\n\t\t\t\t\t\t\t<view class=\"view-box\">\n\t\t\t\t\t\t\t\t<view class=\"flex flex-wrap text-sm\">\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1 margin-right-sm\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar sm round\" :style=\"'backgroundImage: url('+items.avatar+')'\" />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-9 text-sm\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-lg text-bold\">{{items.username}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"margin-top-xs\">{{items.comment}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-gray margin-top-sm\">{{items.spec}}</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"border-view\" />\n\t\t\t\t\t\t</block>\n\t\t\t\t\t\t<!--\n\t\t\t\t\t\t<view class=\"cu-bar bg-white\">\n\t\t\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t\t\t<text class=\"text-black text-lg\"\n\t\t\t\t\t\t\t\t\tv-if=\"product.evaluate_data\">评价（{{product.evaluate_data.count}}）</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"action\">\n\t\t\t\t\t\t\t\t<view class=\"text-sm\">\n\t\t\t\t\t\t\t\t\t<text class=\"margin-right-xs\">好评率</text>\n\t\t\t\t\t\t\t\t\t<text class=\"text-black text-lg\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"product.evaluate_data\">{{product.evaluate_data.avg}}%</text>\n\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-right icon margin-left-xs\" />\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"border-view\" />\n\t\t\t\t\t\t<block v-for=\"(items,index) in evalueteList\" :key=\"index\">\n\t\t\t\t\t\t\t<view class=\"view-box\">\n\t\t\t\t\t\t\t\t<view class=\"flex flex-wrap text-sm\">\n\t\t\t\t\t\t\t\t\t<view class=\"basis-1\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar sm round\" :style='backgroundImage:' url('+items.avatar+')'' />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"basis-9 text-sm\">\n\t\t\t\t\t\t\t\t\t\t<view>{{items.username}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"margin-top-xs\">{{items.comment}}</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-gray margin-top-sm\">iPhone X 64G深空灰色</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"border-view\" />\n\t\t\t\t\t\t</block>\n\t\t\t\t\t\t-->\n\t\t\t\t\t</view>\n\t\t\t\t\t<!--验机报告-->\n\t\t\t\t\t<view class=\"\">\n\t\t\t\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!--包含评论end-->\n\t\t\t\t<!--参数-->\n\t\t\t\t<view id=\"canshuBlock\" class=\"bg-white margin-sm padding-sm radius-2\">\n\t\t\t\t\t<view class=\"margin-bottom-xs text-bold text-xl\">服务</view>\n\t\t\t\t\t<view class=\"text-lightgrey\">\n\t\t\t\t\t\t<view class=\"margin-bottom-xs text-bold text-lg margin-top-xs\">官方验机</view>\n\t\t\t\t\t\t<view class=\"text-sm\">\n\t\t\t\t\t\t\t平台验机并提供评估报告。\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"margin-bottom-xs text-bold text-lg margin-top-xs\">此商品支持<text v-for=\"(items,index) in product.server\"  :key=\"index\">{{items}}</text></view>\n\t\t\t\t\t\t<view class=\"text-sm\">\n\t\t\t\t\t\t\t质检并未发现机器存在异常，满足质检条件。\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"margin-bottom-xs text-bold text-lg margin-top-xs\">关于附件</view>\n\t\t\t\t\t\t<view class=\"text-sm\">\n\t\t\t\t\t\t\t附件名称显示为橘色表示包含该配件，显示灰色表示不包\n\t\t\t\t\t\t\t含该配件，附件不在质保范围内。\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"margin-tb-xs text-bold text-xl\">温馨提示</view>\n\t\t\t\t\t<image src=\"/static/img/shili.jpg\"></image>\n\t\t\t\t\t<view class=\"margin-bottom-xs text-bold text-lg margin-top-xs\">防拆标签</view>\n\t\t\t\t\t<view class=\"text-sm\">\n\t\t\t\t\t\t商品均带有防拆标签，签收后请您保障在7天内标签完好无损，撕毀\n\t\t\t\t\t\t则视为放弃7天无理由退货服务。\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!--包含参数end-->\n\t\t\t<!--详情-->\n\t\t\t<view id=\"xiangqingBlock\" class=\"goods-details-box margin-sm bg-white radius-2 padding-sm\">\n\t\t\t\t<rich-text :nodes=\"product.desc|formatRichText\"></rich-text>\n\t\t\t\t<!-- <image src=\"/static/delect_images/home/goods/goods-1.png\" mode=\"widthFix\" />\n\t\t\t\t<image src=\"/static/delect_images/home/goods/goods-2.png\" mode=\"widthFix\" /> -->\n\t\t\t</view>\n\t\t\t\n\t\t\t<!--占位底部距离-->\n\t\t\t<view class=\"cu-tabbar-height\"></view>\n\t\t</view>\n\t\t<!--包含详情 end-->\n\t\t\n\t\t\n\t\t<!--底部操作-->\n\t\t<view class=\"footer-fixed\">\n\t\t\t<view class=\"cu-bar bg-white tabbar border shop\">\n\t\t\t\t<button class=\"action\" @tap=\"kefuTap\">\n\t\t\t\t\t<view class=\"cuIcon-service\" />\n\t\t\t\t\t<view>客服</view>\n\t\t\t\t</button>\n\t\t\t\t<view class=\"action\" @tap=\"myCartTap\">\n\t\t\t\t\t<view class=\"cuIcon-cart\">\n\t\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"product.cart_num\">{{product.cart_num}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text>购物车</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"btn-group\">\n\t\t\t\t\t<button class=\"cu-btn bg-orange radius shadow-blur\" @tap=\"selectTap('add')\">加入购物车</button>\n\t\t\t\t\t<button class=\"cu-btn bg-red radius shadow-blur\" @tap=\"selectTap('sell')\">立即购买</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!--弹出框-->\n\t\t<view class=\"cu-modal bottom-modal bottom-modal-box\" :class=\"bottomModal?'show':''\">\n\t\t\t<view class=\"cu-dialog bg-white\">\n\t\t\t\t<!--标题-->\n\t\t\t\t<view class=\"text-black text-center margin-tb text-lg title-bar\">\n\t\t\t\t\t<text>{{modalTitle}}</text>\n\t\t\t\t\t<text class=\"cuIcon-close close-icon\" @tap=\"hideModal\"></text>\n\t\t\t\t</view>\n\t\t\n\t\t\t\t<!--内容区域-->\n\t\t\t\t<view class=\"modal-content\">\n\t\t\t\t\t<!--服务区域-->\n\t\t\t\t\t<view class=\"view-box service\" v-if=\"modalType=='service'\">\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">已验机</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">转转&富士康联合制定验机标准，对设备进行专业质检</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">7天无理由</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自收到商品7天内，不喜欢可以申请退货，并自付邮费寄回</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">180天质保</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自订单确认收货起180天,提供免费质保</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">顺丰包邮</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">16:00前下单，今日发货，顺丰包邮</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">半年电池免费换新</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自订单确认收货起半年，如果电池电量低于60%，可申请免费更换原厂品质电池</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<!--质检报告-->\n\t\t\t\t\t<view class=\"view-box baogao\" v-if=\"modalType=='baogao'\">\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">已验机</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">转转&富士康联合制定验机标准，对设备进行专业质检</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">7天无理由</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自收到商品7天内，不喜欢可以申请退货，并自付邮费寄回</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">180天质保</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自订单确认收货起180天,提供免费质保</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">顺丰包邮</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">16:00前下单，今日发货，顺丰包邮</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-title text-red\" />\n\t\t\t\t\t\t\t<text class=\"text-cut text-black\">半年电池免费换新</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"margin-left text-cut text-gray\">自订单确认收货起半年，如果电池电量低于60%，可申请免费更换原厂品质电池</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!--促销区域-->\n\t\t\t\t\t<view class=\"view-box promotion\" v-if=\"modalType=='promotion'\">\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cu-tag line-orange radius sm\">赠品</text>\n\t\t\t\t\t\t\t<text class=\"margin-left-xs text-cut text-black\">品胜充电器套装</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"text-sm text-list-view\">\n\t\t\t\t\t\t\t<view class=\"text-cut\">充电头+数据线</view>\n\t\t\t\t\t\t\t<text class=\"text-right-view\">价值￥99</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"text-view\">\n\t\t\t\t\t\t\t<text class=\"cu-tag line-orange radius sm\">分期</text>\n\t\t\t\t\t\t\t<text class=\"margin-left-xs text-cut text-black\">￥318元/月花呗/京东/微信组合支付</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<!--选择规格-->\n\t\t\t\t\t<view class=\"view-box select\" v-if=\"modalType=='select'\">\n\t\t\t\t\t\t<!--商品信息-->\n\t\t\t\t\t\t<view class=\"cu-list menu-avatar\">\n\t\t\t\t\t\t\t<view class=\"cu-item\">\n\t\t\t\t\t\t\t\t<view class=\"cu-avatar radius lg\"\n\t\t\t\t\t\t\t\t\tstyle=\"background-image:url(/static/delect_images/home/goods/1.png);\" />\n\t\t\t\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t\t\t\t<view class=\"text-price-view\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-price text-red margin-right-xs\">{{product.sales_price}}</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-sm text-gray text-through\">￥{{product.market_price}}</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"cu-tag bg-gradual-red radius sm\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-hotfill\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>秒杀中</text>\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"text-black text-sm flex\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">已选: {{specSelectedName}}</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<!--规格数据-->\n\t\t\t\t\t\t<view class=\"select-btn-list-boox\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"select-item\" v-for=\"(item,index) in specList\" :key=\"index\">\n\t\t\t\t\t\t\t\t<view class=\"text-black\">{{item.name}}</view>\n\t\t\t\t\t\t\t\t<view class=\"select-btn\">\n\t\t\t\t\t\t\t\t\t<text v-for=\"(childItem, childIndex) in specChildList\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"childItem.pid === item.id\" :key=\"childIndex\" class=\"cu-btn light\"\n\t\t\t\t\t\t\t\t\t\t:class=\"{selected: childItem.selected}\"\n\t\t\t\t\t\t\t\t\t\t@click=\"selectSpec(childIndex, childItem.pid)\">\n\t\t\t\t\t\t\t\t\t\t{{childItem.name}}\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t<!-- <button class=\"cu-btn light bg-red\">深空灰色</button> -->\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<!--公共按钮-->\n\t\t\t\t\t<view class=\"footer-fixed\">\n\t\t\t\t\t\t<view class=\"flex flex-direction\">\n\t\t\t\t\t\t\t<button class=\"cu-btn bg-red lg\" @click=\"confirmFuc\">确定</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\t\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tgoodsdetail\n\t} from \"@/api/common.js\"\n\timport {\n\t\tProductDetail,\n\t\tFlashProductDetail,\n\t\tProductEvaluate,\n\t\tCartAdd,\n\t\tOrderCreate\n\t} from \"@/api/mall.js\"\n\timport {\n\t\tsetuservisit\n\t} from \"@/api/user.js\"\n\timport barTitle from '@/components/common/basics/bar-title';\n\n\timport _goods_data from '@/static/data/goods.js'; //虚拟数据\n\timport _tool from '@/utils/tools.js'; //工具函数\n\texport default {\n\t\tcomponents: {\n\t\t\tbarTitle,\n\t\t},\n\t\tcomputed: {\n\t\t\tspecSelectedName() {\n\t\t\t\treturn this.specSelected.join(' ');\n\t\t\t},\n\t\t\tspecProduct() {\n\t\t\t\tif (this.product.use_spec == 1) {\n\t\t\t\t\tlet market_price = this.product.market_price;\n\t\t\t\t\tlet sales_price = this.product.sales_price;\n\t\t\t\t\tlet stock = this.product.stock;\n\t\t\t\t\tlet image = this.product.image;\n\t\t\t\t\tlet specSelectedName = this.specSelected.join(' ');\n\t\t\t\t\tlet specTableList = this.specTableList;\n\t\t\t\t\tfor (var item of this.specTableList) {\n\t\t\t\t\t\tif (item.value.join(' ') == specSelectedName) {\n\t\t\t\t\t\t\tmarket_price = item.market_price;\n\t\t\t\t\t\t\tsales_price = item.sales_price;\n\t\t\t\t\t\t\tstock = item.stock;\n\t\t\t\t\t\t\timage = item.image;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmarket_price,\n\t\t\t\t\t\tsales_price,\n\t\t\t\t\t\tstock,\n\t\t\t\t\t\timage\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn this.product;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tscrollConf: {\n\t\t\t\t\tshowTop: 10,\n\t\t\t\t\topacityTop: 200,\n\t\t\t\t\toffsetAd: 130,\n\t\t\t\t\toffsetIos: 135,\n\t\t\t\t\tnodeList: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'shangpinBlock',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'pinglunBlock',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'canshuBlock',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'xiangqingBlock',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\ttabBarOpacity: 0,\n\t\t\t\t\n\t\t\t\tTabCur:0,\n\t\t\t\tshow:false,\n\t\t\t\tscrollTop:0,\n\t\t\t\tjumpTop:0,\n\t\t\t\tbannerCur: 0,\n\t\t\t\tbannerList: [],\n\t\t\t\tbottomModal: false,\n\t\t\t\tmodalTitle: '',\n\t\t\t\tmodalType: 'promotion',\n\t\t\t\tselectType: '',\n\t\t\t\tgoodsList: [],\n\t\t\t\tspecSelected: [],\n\t\t\t\tproduct: '',\n\t\t\t\tgoodsid: '',\n\t\t\t\tflashId: '',\n\t\t\t\tpageIndex: 1,\n\t\t\t\tpageLimit: 10,\n\t\t\t\tevalueteList: []\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// this.bannerList = _goods_data.bannerListData();\n\t\t\t// this.goodsList = _goods_data.goodsList();\n\t\t\tthis.goodsid = options.id;\n\t\t\tlet flash_id = options.flash ? options.flash : 0;\n\t\t\tif (flash_id != 0) {\n\t\t\t\tthis.flashId = flash_id;\n\t\t\t}\n\t\t\tthis.getDetail(this.goodsid, flash_id);\n\t\t\t// 添加用户足迹\n\t\t\tlet loginInfo = JSON.parse(uni.getStorageSync('app_config_data') || '{}'); // 解决缓存值为空导致JSON.parse解析语法报错\n\t\t\t// console.log(loginInfo);\n\t\t\tif (loginInfo?.hasLogin) {\n\t\t\t\tsetuservisit({\n\t\t\t\t\ttype:1,\n\t\t\t\t\tgoods_id: options.id\n\t\t\t\t}).then(res => {\n\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.loadData();\n\t\t},\n\t\tfilters: {\n\t\t\t/**\n\t\t\t * 处理富文本里的图片宽度自适应\n\t\t\t * 1.去掉img标签里的style、width、height属性\n\t\t\t * 2.img标签添加style属性：max-width:100%;height:auto\n\t\t\t * 3.修改所有style里的width属性为max-width:100%\n\t\t\t * 4.去掉<br/>标签\n\t\t\t * @param html\n\t\t\t * @returns {void|string|*}\n\t\t\t */\n\t\t\tformatRichText(html) { //控制小程序中图片大小\n\t\t\t\tif (html) {\n\t\t\t\t\tlet newContent = html.replace(/<img[^>]*>/gi, function(match, capture) {\n\t\t\t\t\t\tmatch = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n\t\t\t\t\t\tmatch = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n\t\t\t\t\t\tmatch = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n\t\t\t\t\t\treturn match;\n\t\t\t\t\t});\n\t\t\t\t\tnewContent = newContent.replace(/style=\"[^\"]+\"/gi, function(match, capture) {\n\t\t\t\t\t\tmatch = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi,\n\t\t\t\t\t\t\t'max-width:100%;');\n\t\t\t\t\t\treturn match;\n\t\t\t\t\t});\n\t\t\t\t\tnewContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n\t\t\t\t\tnewContent = newContent.replace(/\\<img/gi,\n\t\t\t\t\t\t'<img style=\"max-width:100%;height:auto;display:inline-block;margin:10rpx auto;\"');\n\t\t\t\t\treturn newContent;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\t_tool.setBarColor(true);\n\t\t\tuni.pageScrollTo({\n\t\t\t\tscrollTop: 0,\n\t\t\t\tduration: 0\n\t\t\t});\n\t\t},\n\t\tmounted() {\n\t\t\tconst query = uni.createSelectorQuery().in(this)\n\t\t\tquery.selectAll('#pinglunBlock, #canshuBlock, #xiangqingBlock').boundingClientRect((data) => {\n\t\t\t    console.log('data', data)\n\t\t\t\tlet that = this\n\t\t\t\tdata.forEach(function(item) {\n\t\t\t\t\tif (item.id == 'pinglunBlock') {\n\t\t\t\t\t\tthat.scrollConf.nodeList[1].top = item.top\n\t\t\t\t\t}\n\t\t\t\t\tif (item.id == 'canshuBlock') {\n\t\t\t\t\t\tthat.scrollConf.nodeList[2].top = item.top\n\t\t\t\t\t}\n\t\t\t\t\tif (item.id == 'xiangqingBlock') {\n\t\t\t\t\t\tthat.scrollConf.nodeList[3].top = item.top\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t  \n\t\t\t\tconsole.log(this.scrollConf)\n\t\t\t}).exec()\n\t\t\t\t\t\t\t\n\t\t},\n\t\tcreated() {\n\t\t\t//加载虚拟数据\n\t\t},\n\t\tonPageScroll(e) {\n\t\t\tconsole.log(e)\n\t\t\tif (e.scrollTop > this.scrollConf.showTop) {\n\t\t\t\tthis.show = true\n\t\t\t\tthis.tabBarOpacity = e.scrollTop / this.scrollConf.opacityTop\n\t\t\t} else {\n\t\t\t\tthis.show = false\n\t\t\t}\n\t\t\t\n\t\t\t// this.getElementScollTop(1);\n\t\t\t// this.scrollY = e.scrollTop;\n\t\t\t// if(this.scrollY<this.jumpTop){\n\t\t\t// \tthis.show = false;\n\t\t\t// }else{\n\t\t\t// \tthis.show = true;\n\t\t\t// }\n\t\t},\n\t\tmethods: {\n\t\t\t//获取容器高度\n\t\t\tgetElementScollTop(id) {\n\t\t\t\tif(id==0){\n\t\t\t\t  var css=\".nav\";\n\t\t\t\t}\n\t\t\t\tif(id==1){\n\t\t\t\t  var css=\".baobeiH\";\n\t\t\t\t}\n\t\t\t\tif(id==2){\n\t\t\t\t  var css=\".pinglunH\";\n\t\t\t\t}\n\t\t\t\tif(id==3){\n\t\t\t\t  var css=\".canshuH\";\n\t\t\t\t}\n\t\t\t  const query = uni.createSelectorQuery().in(this)\n\t\t\t\tquery\n\t\t\t\t.select(css)\n\t\t\t\t.boundingClientRect((data) => {\n\t\t\t\t  console.log(data, 'data')\n\t\t\t\t  //console.log(data.height)\n\t\t\t\t  this.jumpTop = data.height-95;\n\t\t\t  })\n\t\t\t\t.exec()\n\t\t\t},\n\t\t\ttabSelect(e) {\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t\t\t// this.scrollLeft = (e.currentTarget.dataset.id - 1) * 60;\n\t\t\t\t// this.getElementScollTop(this.TabCur)\n\t\t\t\tconsole.log(this.TabCur);\n\t\t\t\tlet adjustedTop = this.scrollConf.nodeList[this.TabCur].top\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif (plus.os.name == \"Android\") {\n\t\t\t\t\tadjustedTop = this.scrollConf.nodeList[this.TabCur].top - this.scrollConf.offsetAd;\n\t\t\t\t} else {\n\t\t\t\t\tadjustedTop = this.scrollConf.nodeList[this.TabCur].top - this.scrollConf.offsetIos;\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\tconsole.log(adjustedTop);\n\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\tscrollTop: adjustedTop, //滚动的距离\n\t\t\t\t\tduration: 300, //过渡时间\n\t\t\t\t})\n\t\t\t},\n\t\t\tcopydesc(){\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: this.product.teamdesc,\n\t\t\t\t\tsuccess: () =>\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '文字已复制'\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tloadData() {\n\t\t\t\tlet that = this;\n\t\t\t\tconsole.log(that.scrollTop);\n\t\t\t\tthis.getProductEvaluate();\n\t\t\t},\n\t\t\t// 获取商品详情\n\t\t\tgetDetail(id, flash_id) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet params = {};\n\t\t\t\tif (flash_id == 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\t'id': that.goodsid\n\t\t\t\t\t}\n\t\t\t\t\tProductDetail(params).then(res => {\n\t\t\t\t\t\t\tlet product = res.data;\n\t\t\t\t\t\t\tif (!product) {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.product = product;\n\t\t\t\t\t\t\t// if (product.flash) {\n\t\t\t\t\t\t\t// \tthis.countdown = product.flash.countdown;\n\t\t\t\t\t\t\t// \tthis.progress = product.flash;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// this.favorite = this.product.favorite;\n\t\t\t\t\t\t\tif (this.product.use_spec) {\n\t\t\t\t\t\t\t\tlet specList = this.product.spec_list;\n\t\t\t\t\t\t\t\tlet specTableList = this.product.spec_table_list;\n\n\t\t\t\t\t\t\t\tlet e = 1;\n\t\t\t\t\t\t\t\tlet ee = 1;\n\t\t\t\t\t\t\t\tlet specChildList = [];\n\t\t\t\t\t\t\t\tfor (let i in specList) {\n\t\t\t\t\t\t\t\t\tspecList[i].id = e++;\n\t\t\t\t\t\t\t\t\tfor (let ii in specList[i].child) {\n\t\t\t\t\t\t\t\t\t\tspecChildList.push({\n\t\t\t\t\t\t\t\t\t\t\tid: ee++,\n\t\t\t\t\t\t\t\t\t\t\tpid: specList[i].id,\n\t\t\t\t\t\t\t\t\t\t\tname: specList[i].child[ii]\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.specList = specList;\n\t\t\t\t\t\t\t\tthis.specChildList = specChildList;\n\t\t\t\t\t\t\t\tthis.specTableList = specTableList;\n\t\t\t\t\t\t\t\t// \t//console.log(this.specList)\n\t\t\t\t\t\t\t\t// \t//console.log(specChildList)\n\n\t\t\t\t\t\t\t\t//规格 默认选中第一条\n\t\t\t\t\t\t\t\tthis.specSelected = [];\n\t\t\t\t\t\t\t\tthis.specList.forEach(item => {\n\t\t\t\t\t\t\t\t\tfor (let cItem of this.specChildList) {\n\t\t\t\t\t\t\t\t\t\tif (cItem.pid === item.id) {\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(cItem, 'selected', true);\n\t\t\t\t\t\t\t\t\t\t\tthis.specSelected.push(cItem.name);\n\t\t\t\t\t\t\t\t\t\t\tbreak; //forEach不能使用break\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(com => {\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\t'flash_id': that.flashId\n\t\t\t\t\t}\n\t\t\t\t\tFlashProductDetail(params).then(res => {\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(com => {\n\t\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 获取评价\n\t\t\tgetProductEvaluate() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet params = {\n\t\t\t\t\t'product_id': this.goodsid,\n\t\t\t\t\t'page': this.pageIndex,\n\t\t\t\t\t'pagesize': this.pageLimit\n\t\t\t\t}\n\t\t\t\tProductEvaluate(params).then(res => {\n\t\t\t\t\tthat.evalueteList = res.data;\n\t\t\t\t})\n\t\t\t},\n\t\t\t//选择规格\n\t\t\tselectSpec(index, pid) {\n\t\t\t\tlet list = this.specChildList;\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tif (item.pid === pid) {\n\t\t\t\t\t\tthis.$set(item, 'selected', false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.$set(list[index], 'selected', true);\n\t\t\t\t//存储已选择\n\t\t\t\t/**\n\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t */\n\t\t\t\tthis.specSelected = [];\n\t\t\t\t//console.log(list)\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tif (item.selected === true) {\n\t\t\t\t\t\tthis.specSelected.push(item.name);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tbannerSwiper(e) {\n\t\t\t\tthis.bannerCur = e.detail.current;\n\t\t\t},\n\t\t\tserviceTap() {\n\t\t\t\tthis.modalTitle = \"服务\";\n\t\t\t\tthis.modalType = 'service';\n\t\t\t\tthis.showModal();\n\t\t\t},\n\t\t\tbaogaoTap() {\n\t\t\t\tthis.modalTitle = \"质检报告\";\n\t\t\t\tthis.modalType = 'baogao';\n\t\t\t\tthis.showModal();\n\t\t\t},\n\t\t\tpromotionTap() {\n\t\t\t\tthis.modalTitle = \"促销优惠\";\n\t\t\t\tthis.modalType = 'promotion';\n\t\t\t\tthis.showModal();\n\t\t\t},\n\t\t\tasync selectTap(type) {\n\t\t\t\tthis.selectType = type;\n\t\t\t\tthis.modalTitle = \"选择规格\";\n\t\t\t\tthis.modalType = 'select';\n\t\t\t\tlet is_login = await this.$api.checkLogin();\n\t\t\t\tif (is_login) {\n\t\t\t\t\tthis.showModal();\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfirmFuc() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet type = that.selectType\n\t\t\t\tif (type == 'add') {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\t'id': that.goodsid\n\t\t\t\t\t}\n\t\t\t\t\tCartAdd(params).then(res => {\n\t\t\t\t\t\t\tif (res.code == 1) {\n\t\t\t\t\t\t\t\tthat.product.cart_num++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(com => {\n\t\t\t\t\t\t\tthat.hideModal();\n\t\t\t\t\t\t})\n\t\t\t\t} else if (type == 'sell') {\n\t\t\t\t\tlet spec = '';\n\t\t\t\t\tif (that.product.use_spec == 1) {\n\t\t\t\t\t\tspec = that.specSelected.join(',');\n\t\t\t\t\t}\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: 'settlement?id=' + that.goodsid + '&spec=' + spec\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowModal() {\n\t\t\t\tthis.bottomModal = true;\n\t\t\t},\n\t\t\thideModal(e) {\n\t\t\t\tthis.bottomModal = false;\n\t\t\t\tthis.modalTitle = \"\";\n\t\t\t\tthis.modalType = '';\n\t\t\t},\n\t\t\tkefuTap(){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/chat/chat'\n\t\t\t\t});\n\t\t\t},\n\t\t\tmyCartTap() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/goods/cart'\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 下载图片到相册\n\t\t\tsettingQrImgBase64() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet imgurl = this.product.images_text;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '下载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tfor(let i = 0;i<imgurl.length;i++){\n\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\turl:  imgurl[i], // 图片地址\n\t\t\t\t\t\tmethods: 'GET',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log(res,'res')\n\t\t\t\t\t\t\tvar tempFilePath = res.tempFilePath; // 这里拿到后端返回的图片路径\n\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({  // 然后调用这个方法\n\t\t\t\t\t\t\t\tfilePath: tempFilePath,\n\t\t\t\t\t\t\t\tsuccess : (res) => {\n\t\t\t\t\t\t\t\t\tif((i+1) == imgurl.length){\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tuni.showToast({title : '分享图片已保存至相册',icon:'none'})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail:(err)=> {\n\t\t\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\t\t\tthat.$u.toast(err);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t\t\t\t\t// that.$u.toast('执行完毕');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t/* #ifdef APP-PLUS */\n\t@import \"/uni_modules/colorui/main.css\";\n\t@import \"/uni_modules/colorui/icon.css\";\n\t@import \"@/uni_modules/mpb-ui/shop/app.scss\";\n\t/* #endif */\n\t@import \"@/uni_modules/mpb-ui/shop/goods.scss\";\n\n\t.selected {\n\t\tcolor: #e54d42;\n\t\tbackground-color: #fadbd9;\n\t}\n\t/*\n\t.nav{\n\t\tbackground-color: #fff;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tz-index: 999;\n\t\tpadding-top: calc(var(--status-bar-height) + 101rpx);\n\t}*/\n\t.goods-tab-box {\n\t\tposition: fixed;\n\t\twidth: 100%;\n\t\tpadding: 2rpx 0;\n\t\ttransition: all .25s;\n\t\tz-index: 999;\n\t\tbackground: #fff;\n\t\n\t\t/* #ifndef MP */\n\t\ttop: calc(var(--status-bar-height) + 101rpx);\n\t\t/* #endif */\n\t\n\t\t/* #ifdef MP */\n\t\ttop: calc(var(--status-bar-height) + 161rpx);\n\t\t/* #endif */\n\t}\n\t.hide{\n\t\tdisplay: none;\n\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676796543009\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}